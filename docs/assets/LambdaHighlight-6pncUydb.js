import{R as t}from"./index-gZTrJf74.js";import{c as f}from"./classList-dVscd13K.js";const b="_main_q1j86_5",E="_comment_q1j86_14",k="_name_q1j86_17",y="_global_q1j86_20",w="_operator_q1j86_23",N="_macro_q1j86_26",j="_placeholder_q1j86_29",q="_keyword_q1j86_32",$="_string_q1j86_35",L="_number_q1j86_38",p="_lambda_q1j86_41",z="_bkslash_q1j86_41",A="_colon_q1j86_41",M="_dot_q1j86_41",l={main:b,comment:E,name:k,global:y,operator:w,macro:N,placeholder:j,keyword:q,string:$,number:L,lambda:p,bkslash:z,colon:A,dot:M};function u(e,o=!1){for(var a=0,c=0;0<=c&&a<e.length;a++)if(e[a]=="("||e[a]=="\\")c++;else if(e[a]==")"||e[a]==".")c--;else if(o&&e[a]==`
`&&c==0)break;return e.slice(0,a)}function C(e){e=e.slice(1);const o=/^[a-zA-Z0-9_]+\s*/.exec(e);if(!o)throw new Error(`Missing name in "${e}"`);const a=o[0].trim(),c=o[0].length;let _=[],n=c;if(e[c]==":"){const s=u(e.slice(c+1)).slice(0,-1);_=r(s),n+=s.length+1}if(e[n]!=".")throw new Error(`Missing dot in "${e.slice(n)}"`);const i=r(e.slice(n+1));return["lambda",a,_,i]}function r(e){if(e=="")return[];const o=/^(\s|\n)+/.exec(e);if(o)return[["whitespace",o[0]],...r(e.slice(o[0].length))];const a=/^(export|import|default|replacing)\s/.exec(e);if(a)return[["keyword",a[0]],...r(e.slice(a[0].length))];const c=/^:=|^=\-?([\d\_a-fA-F]+(\.[\d\_a-fA-F]+)?(p\-?[\d_]+)?)?=>/.exec(e);if(c)return[["macro",c[0]],...r(e.slice(c[0].length))];const _=/^\d\S*/.exec(e);if(_)return[["number",_[0]],...r(e.slice(_[0].length))];const n=/^[A-Za-z0-9_]+/.exec(e);if(n)return[["name",n[0]],...r(e.slice(n[0].length))];if(e.startsWith("--[")){let m=e.indexOf("]--")+3;return[["comment",e.slice(0,m)],...r(e.slice(m))]}const i=/^\-\-.*?(?:\n|$)/.exec(e);if(i)return[["comment",i[0]],...r(e.slice(i[0].length))];if(e.startsWith("\\")){const m=u(e);return[C(m),...r(e.slice(m.length))]}if(e.startsWith('"')){let m=1;for(;m<=e.length&&(e[m]=="\\"&&m++,e[m]!='"');m++);return[["string",e.slice(0,m+1)],...r(e.slice(m+1))]}const s=/^\$[a-zA-Z0-9_]+/.exec(e);if(s)return[["placeholder",s[0]],...r(e.slice(s[0].length))];const h=/^[^\sa-zA-Z0-9_\$\\]+/.exec(e);if(h)return[["operator",h[0]],...r(e.slice(h[0].length))];throw new Error(`Logic error: none of the regices in a complete cover matched "${e}"`)}const g=t.createContext(new Map),W=({c:e})=>t.createElement(d,{children:e});function d({children:e}){const o=t.useContext(g),a=o.size+1;let c;return typeof e=="string"?c=r(e):c=e,t.createElement("code",{className:l.main},c.map(([_,n,...i],s)=>{switch(_){case"comment":return t.createElement("span",{key:s,className:l.comment},n);case"name":return t.createElement("span",{key:s,className:f(l.name,o.get(n)||l.global),style:o.has(n)?{"--level":`${o.get(n)}`}:void 0},n);case"operator":return t.createElement("span",{key:s,className:l.operator},n);case"whitespace":return t.createElement("span",{key:s},n);case"placeholder":return t.createElement("span",{key:s,className:l.placeholder},n);case"macro":return t.createElement("span",{key:s,className:l.macro},n);case"keyword":return t.createElement("span",{key:s,className:l.keyword},n);case"string":return t.createElement("span",{key:s,className:l.string},n);case"number":return t.createElement("span",{key:s,className:l.number},n);case"lambda":return t.createElement(g.Provider,{key:s,value:(()=>{const h=new Map(o);return h.set(n,a),h})()},t.createElement("span",{className:l.lambda,"data-name":n},t.createElement("span",{className:l.bkslash},"\\"),t.createElement("span",{className:f(l.param,l.name),style:{"--level":`${a}`}},n),i[0].length?t.createElement(t.Fragment,null,t.createElement("span",{className:l.colon},":"),t.createElement("span",null,t.createElement(d,null,i[0]))):null,t.createElement("span",{className:l.dot},"."),t.createElement("span",null,t.createElement(d,null,i[1]))))}}))}export{W as H,d as L};
